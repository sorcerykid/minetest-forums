<!--
  Mintest Forum Recovery Project (by sorcerykid)

  https://sorcerykid.github.io/minetest-forums/pages/47_22363.htm

  The following page was cached by Yandex Bot (https://yandex.com/) on 23-Mar-2019.
  All archived content is subject to copyright. No warranty or guaranty is implied.
-->
<base href="https://forum.minetest.net/" />
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>Minetest Forums &bull; View topic - Problems with texture scaling/orientation since Minetest 5</title>

<link rel="alternate" type="application/atom+xml" title="Feed - Minetest Forums" href="https://forum.minetest.net/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="https://forum.minetest.net/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Mods" href="https://forum.minetest.net/feed.php?f=46" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Problems with texture scaling/orientation since Minetest 5" href="https://forum.minetest.net/feed.php?f=47&amp;t=22363" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->

<link href="./styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="./style.php?id=5&amp;lang=en" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="./styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="./styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="./styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />

</head>

<body id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<div id="site-description">
				<a href="./index.php" title="Board index" id="logo"><img src="./styles/prosilver/imageset/site_logo.gif" width="149" height="52" alt="" title="" /></a>
				<h1>Minetest Forums</h1>
				<p>The official Minetest discussion board</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="./index.php" accesskey="h">Board index</a> <strong>&#8249;</strong> <a href="./viewforum.php?f=47">Modding Discussion</a></li>
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>
	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="./viewtopic.php?f=46&amp;t=22363">Problems with texture scaling/orientation since Minetest 5</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->

<div class="topic-actions">
		<div class="pagination">
			5 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
</div>
<div class="clear"></div>

	<div id="p346496" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class="first"><a href="https://sorcerykid.github.io/minetest-forums/pages/47_22363.htm#p346496">Problems with texture scaling/orientation since Minetest 5</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>blachner</strong> &raquo; Mon Mar 18, 2019 6:07 pm </p>

			<div class="content">I'm working on a small &quot;Gallery&quot; mod for Minetest. I started development with Minetest 0.4.17 and my code more or less works there:<br /><br /><img src="https://forum.minetest.net/download/file.php?mode=view&amp;id=18487&amp;sid=65cfe0e08d80eaaaae3c40a2e934e8c1" alt="Image" /><br /><br />OK, pictures on the floor and ceiling aren't really useful, but it helps to illustrate my problem. ;-) After upgrading to Minetest 5 my mod looks like this:<br /><br /><img src="https://forum.minetest.net/download/file.php?mode=view&amp;id=18488" alt="Image" /><br /><br />I use the following code to register the nodes for the pictures:<br /><br /><dl class="codebox"><dt>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>for n=1, N do<br /><br />&nbsp; &nbsp; local groups = {choppy=2, dig_immediate=3, picture=1, not_in_creative_inventory=1}<br />&nbsp; &nbsp; if n == 1 then<br />&nbsp; &nbsp; &nbsp; &nbsp; groups = {choppy=2, dig_immediate=3, picture=1}<br />&nbsp; &nbsp; end<br /><br />&nbsp; &nbsp; -- Texture for the frame<br />&nbsp; &nbsp; local frame_texture = &quot;metal_1.png&quot;<br />&nbsp; &nbsp; -- Pixel size of the resulting texture for the node. Higher resolutions for more details.<br />&nbsp; &nbsp; local resulttexture_pix = 800<br />&nbsp; &nbsp; -- Frame border width in percent<br />&nbsp; &nbsp; local frame_widthpercent = 2.5<br />&nbsp; &nbsp; -- Scaling of the picture<br />&nbsp; &nbsp; local pic_scale = 2.5<br /><br />&nbsp; &nbsp; -- Get the width and height of the picture from the file in pixel<br />&nbsp; &nbsp; local pic_pixwidth,pic_pixheight=get_pngwidthheight(n)<br />&nbsp; &nbsp; -- Get the max side lenght of the picture in pixel<br />&nbsp; &nbsp; local pic_pixmax = math.max(pic_pixwidth,pic_pixheight)<br />&nbsp; &nbsp; -- Frame border width in pixel<br />&nbsp; &nbsp; local frame_widthpixel = math.ceil(frame_widthpercent * pic_pixmax / 100.0)<br /><br />&nbsp; &nbsp; -- Distance beetween the frame and the picture in pixel<br />&nbsp; &nbsp; local border_pix = 4<br />&nbsp; &nbsp; -- Pixel size of the combined square texture of the picture with frame and border<br />&nbsp; &nbsp; local pictexture_pix = pic_pixmax + (frame_widthpixel * 2) + (border_pix * 2)<br />&nbsp; &nbsp; -- X and Y position oft the picture in the combined square texture of the picture with frame and border<br />&nbsp; &nbsp; local pic_xoffset = ((pic_pixmax - pic_pixwidth) / 2) + frame_widthpixel + border_pix<br />&nbsp; &nbsp; local pic_yoffset = ((pic_pixmax - pic_pixheight) / 2) + frame_widthpixel + border_pix<br /><br />&nbsp; &nbsp; -- Frame border width of the node<br />&nbsp; &nbsp; local frame_widthnode = 1.0 / pictexture_pix * frame_widthpixel<br />&nbsp; &nbsp; -- Frame border thickness of the node<br />&nbsp; &nbsp; local frame_thickness = 0.1<br /><br />&nbsp; &nbsp; -- Picture width of the node (whole picture including frame)<br />&nbsp; &nbsp; local pic_width = 1.0<br />&nbsp; &nbsp; -- Picture height of the node (whole picture including frame)<br />&nbsp; &nbsp; local pic_height = 1.0<br />&nbsp; &nbsp; -- Picture thickness of the node<br />&nbsp; &nbsp; local pic_thickness = 0.05<br /><br />&nbsp; &nbsp; if pic_pixwidth &gt; pic_pixheight then<br />&nbsp; &nbsp; &nbsp; &nbsp; -- Landscape picture. Set the Picture height of the node (whole picture including frame) accordingly to the original picture aspect ratio<br />&nbsp; &nbsp; &nbsp; &nbsp; pic_height = (pic_width / pictexture_pix) * (pic_pixheight + 2 * (frame_widthpixel + border_pix))<br />&nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; &nbsp; -- Potrait picture Set the Picture width of the node (whole picture including frame) accordingly to the original picture aspect ratio<br />&nbsp; &nbsp; &nbsp; &nbsp; pic_width = (pic_height / pictexture_pix) * (pic_pixwidth + 2 * (frame_widthpixel + border_pix))<br />&nbsp; &nbsp; end<br /><br />&nbsp; &nbsp; -- node<br />&nbsp; &nbsp; minetest.register_node(&quot;gallery:node_&quot;..n..&quot;&quot;, {<br />&nbsp; &nbsp; &nbsp; &nbsp; description = &quot;Picture #&quot;..n..&quot;&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; drawtype = &quot;nodebox&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-- Tile definition in the follwing order: +Y, -Y, +X, -X, +Z, -Z. <br />&nbsp; &nbsp; &nbsp; &nbsp; tiles = {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {name=&quot;(&quot;..frame_texture..&quot;^&#91;resize:&quot;..resulttexture_pix..&quot;x&quot;..resulttexture_pix..&quot;)^(&#91;combine:&quot;..pictexture_pix..&quot;x&quot;..pictexture_pix..&quot;:&quot;..pic_xoffset..&quot;,&quot;..pic_yoffset..&quot;=picture_&quot;..n..&quot;.png^&#91;resize:&quot;..resulttexture_pix..&quot;x&quot;..resulttexture_pix..&quot;)&quot;}, <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {name=frame_texture}<br />&nbsp; &nbsp; &nbsp; &nbsp; },<br />&nbsp; &nbsp; &nbsp; &nbsp; visual_scale = pic_scale,<br />&nbsp; &nbsp; &nbsp; &nbsp; inventory_image = &quot;gallery_inventory.png&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; wield_image = &quot;gallery_inventory.png&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; paramtype = &quot;light&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; paramtype2 = &quot;wallmounted&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; sunlight_propagates = true,<br />&nbsp; &nbsp; &nbsp; &nbsp; walkable = false,<br />&nbsp; &nbsp; &nbsp; &nbsp; node_box = {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; type = &quot;fixed&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- Box definition in following order: {x1, y1, z1, x2, y2, z2}<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fixed = {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- Picture<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {-pic_width/2.0, -0.5/pic_scale, -pic_height/2.0, pic_width/2.0, -(0.5 - pic_thickness) / pic_scale, pic_height/2.0},&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- Left frame border<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {-pic_width/2.0, -0.5/pic_scale, -pic_height/2.0, -pic_width/2.0+frame_widthnode, -(0.5 - frame_thickness) / pic_scale, pic_height/2.0},<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- Right frame border<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {pic_width/2.0-frame_widthnode, -0.5/pic_scale, -pic_height/2.0, pic_width/2.0, -(0.5 - frame_thickness) / pic_scale, pic_height/2.0},<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-- Bottom frame border<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {-pic_width/2.0, -0.5/pic_scale, -pic_height/2.0, pic_width/2.0, -(0.5 - frame_thickness) / pic_scale, -pic_height/2.0+frame_widthnode},<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- Top frame border<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {-pic_width/2.0, -0.5/pic_scale, pic_height/2.0-frame_widthnode, pic_width/2.0, -(0.5 - frame_thickness) / pic_scale, pic_height/2.0},<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />&nbsp; &nbsp; &nbsp; &nbsp; },</code></dd></dl><br /><br />Now I see two problems after upgrading to Minetest 5:<br /><br />1) The nodes are rotated to the walls like with Minetest 0.4.17. But the texture isn't rotated in Minetest 5 anymore. Bug or feature?<br /><br />2) The node definition and the texture isn't scaled by the parameter visual_scale anymore. OK I read in the documentation that visual_scale is for the wielded image. So this may be a bug in Minetest 0.4.17 and is corrected now? <br /><br />I found a solution to scale the node, with the following code:<br /><dl class="codebox"><dt>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>for n=1, N do<br /><br />&nbsp; &nbsp; local groups = {choppy=2, dig_immediate=3, picture=1, not_in_creative_inventory=1}<br />&nbsp; &nbsp; if n == 1 then<br />&nbsp; &nbsp; &nbsp; &nbsp; groups = {choppy=2, dig_immediate=3, picture=1}<br />&nbsp; &nbsp; end<br /><br />&nbsp; &nbsp; -- Texture for the frame<br />&nbsp; &nbsp; local frame_texture = &quot;metal_1.png&quot;<br />&nbsp; &nbsp; -- Pixel size of the resulting texture for the node. Higher resolutions for more details.<br />&nbsp; &nbsp; local resulttexture_pix = 800<br />&nbsp; &nbsp; -- Frame border width in percent<br />&nbsp; &nbsp; local frame_widthpercent = 2.5<br />&nbsp; &nbsp; -- Scaling of the picture<br />&nbsp; &nbsp; local pic_scale = 2.5<br /><br />&nbsp; &nbsp; -- Get the width and height of the picture from the file in pixel<br />&nbsp; &nbsp; local pic_pixwidth,pic_pixheight=get_pngwidthheight(n)<br />&nbsp; &nbsp; -- Get the max side lenght of the picture in pixel<br />&nbsp; &nbsp; local pic_pixmax = math.max(pic_pixwidth,pic_pixheight)<br />&nbsp; &nbsp; -- Frame border width in pixel<br />&nbsp; &nbsp; local frame_widthpixel = math.ceil(frame_widthpercent * pic_pixmax / 100.0)<br /><br />&nbsp; &nbsp; -- Distance beetween the frame and the picture in pixel<br />&nbsp; &nbsp; local border_pix = 4<br />&nbsp; &nbsp; -- Pixel size of the combined square texture of the picture with frame and border<br />&nbsp; &nbsp; local pictexture_pix = pic_pixmax + (frame_widthpixel * 2) + (border_pix * 2)<br />&nbsp; &nbsp; -- X and Y position oft the picture in the combined square texture of the picture with frame and border<br />&nbsp; &nbsp; local pic_xoffset = ((pic_pixmax - pic_pixwidth) / 2) + frame_widthpixel + border_pix<br />&nbsp; &nbsp; local pic_yoffset = ((pic_pixmax - pic_pixheight) / 2) + frame_widthpixel + border_pix<br /><br />&nbsp; &nbsp; -- Frame border width of the node<br />&nbsp; &nbsp; local frame_widthnode = 1.0 / pictexture_pix * frame_widthpixel<br />&nbsp; &nbsp; -- Frame border thickness of the node<br />&nbsp; &nbsp; local frame_thickness = 0.1<br /><br />&nbsp; &nbsp; -- Picture width of the node (whole picture including frame)<br />&nbsp; &nbsp; local pic_width = 1.0<br />&nbsp; &nbsp; -- Picture height of the node (whole picture including frame)<br />&nbsp; &nbsp; local pic_height = 1.0<br />&nbsp; &nbsp; -- Picture thickness of the node<br />&nbsp; &nbsp; local pic_thickness = 0.05<br /><br />&nbsp; &nbsp; pic_width = pic_width * pic_scale<br />&nbsp; &nbsp; pic_height = pic_height * pic_scale<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; if pic_pixwidth &gt; pic_pixheight then<br />&nbsp; &nbsp; &nbsp; &nbsp; -- Landscape picture. Set the Picture height of the node (whole picture including frame) accordingly to the original picture aspect ratio<br />&nbsp; &nbsp; &nbsp; &nbsp; pic_height = (pic_width / pictexture_pix) * (pic_pixheight + 2 * (frame_widthpixel + border_pix))<br />&nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; &nbsp; -- Potrait picture Set the Picture width of the node (whole picture including frame) accordingly to the original picture aspect ratio<br />&nbsp; &nbsp; &nbsp; &nbsp; pic_width = (pic_height / pictexture_pix) * (pic_pixwidth + 2 * (frame_widthpixel + border_pix))<br />&nbsp; &nbsp; end<br /><br />&nbsp; &nbsp; -- node<br />&nbsp; &nbsp; minetest.register_node(&quot;gallery:node_&quot;..n..&quot;&quot;, {<br />&nbsp; &nbsp; &nbsp; &nbsp; description = &quot;Picture #&quot;..n..&quot;&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; drawtype = &quot;nodebox&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-- Tile definition in the follwing order: +Y, -Y, +X, -X, +Z, -Z. <br />&nbsp; &nbsp; &nbsp; &nbsp; tiles = {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {name=&quot;(&quot;..frame_texture..&quot;^&#91;resize:&quot;..resulttexture_pix..&quot;x&quot;..resulttexture_pix..&quot;)^(&#91;combine:&quot;..pictexture_pix..&quot;x&quot;..pictexture_pix..&quot;:&quot;..pic_xoffset..&quot;,&quot;..pic_yoffset..&quot;=picture_&quot;..n..&quot;.png^&#91;resize:&quot;..resulttexture_pix..&quot;x&quot;..resulttexture_pix..&quot;)&quot;}, <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {name=frame_texture}<br />&nbsp; &nbsp; &nbsp; &nbsp; },<br />&nbsp; &nbsp; &nbsp; &nbsp; visual_scale = pic_scale,<br />&nbsp; &nbsp; &nbsp; &nbsp; inventory_image = &quot;gallery_inventory.png&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; wield_image = &quot;gallery_inventory.png&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; paramtype = &quot;light&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; paramtype2 = &quot;wallmounted&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; sunlight_propagates = true,<br />&nbsp; &nbsp; &nbsp; &nbsp; walkable = false,<br />&nbsp; &nbsp; &nbsp; &nbsp; node_box = {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; type = &quot;fixed&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- Box definition in following order: {x1, y1, z1, x2, y2, z2}<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fixed = {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- Picture<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {-pic_width/2.0, -0.5, -pic_height/2.0, pic_width/2.0, -(0.5 - pic_thickness) , pic_height/2.0},&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- Left frame border<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {-pic_width/2.0, -0.5, -pic_height/2.0, -pic_width/2.0+frame_widthnode, -(0.5 - frame_thickness) , pic_height/2.0},<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- Right frame border<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {pic_width/2.0-frame_widthnode, -0.5, -pic_height/2.0, pic_width/2.0, -(0.5 - frame_thickness) , pic_height/2.0},<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-- Bottom frame border<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {-pic_width/2.0, -0.5, -pic_height/2.0, pic_width/2.0, -(0.5 - frame_thickness) , -pic_height/2.0+frame_widthnode},<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- Top frame border<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {-pic_width/2.0, -0.5, pic_height/2.0-frame_widthnode, pic_width/2.0, -(0.5 - frame_thickness) , pic_height/2.0},<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br />&nbsp; &nbsp; &nbsp; &nbsp; },<br />&nbsp; &nbsp; &nbsp; &nbsp; selection_box = {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; type = &quot;wallmounted&quot;,<br />&nbsp; &nbsp; &nbsp; &nbsp; },<br />&nbsp; &nbsp; &nbsp; &nbsp; groups = groups,<br /></code></dd></dl><br /><br />Than it looks like this in Minetest 5:<br /><br /><img src="https://forum.minetest.net/download/file.php?mode=view&amp;id=18489&amp;sid=65cfe0e08d80eaaaae3c40a2e934e8c1" alt="Image" /><br /><br />But I have no idea how to scale the texture over more than one node?<br />And why isn't the texture rotated with the node?<br /><br />Maybe someone have an idea and can help.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>blachner</strong>
			</dt>
			<dd>New member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 2</dd><dd><strong>Joined:</strong> Sun Mar 17, 2019 8:26 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p346516" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/47_22363.htm#p346516">Re: Problems with texture scaling/orientation since Minetest</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>sfan5</strong> &raquo; Mon Mar 18, 2019 8:42 pm </p>

			<div class="content"><blockquote><div><cite>blachner wrote:</cite>1) The nodes are rotated to the walls like with Minetest 0.4.17. But the texture isn't rotated in Minetest 5 anymore. Bug or feature?</div></blockquote><br />Bug, it's being tracked here: <!-- m --><a class="postlink" href="https://github.com/minetest/minetest/issues/8358">https://github.com/<a class="postlink" href="https://github.com/minetest/minetest/issues/8358">minetest/<a class="postlink" href="https://github.com/minetest/minetest/issues/8358">minetest/issues/8358</a><!-- m --><br /><blockquote><div><cite>blachner wrote:</cite>2) The node definition and the texture isn't scaled by the parameter visual_scale anymore</div></blockquote><br /><span style="font-style: italic">Looks</span> like a bug, but this isn't certain yet.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>sfan5</strong>
			</dt>
			<dd>Moderator</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 3784</dd><dd><strong>Joined:</strong> Wed Aug 24, 2011 9:44 am</dd>
			<dd><strong>GitHub:</strong> sfan5</dd>
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p346552" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/47_22363.htm#p346552">Re: Problems with texture scaling/orientation since Minetest</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>runs</strong> &raquo; Tue Mar 19, 2019 10:05 am </p>

			<div class="content"><blockquote><div><cite>blachner wrote:</cite>2) The node definition and the texture isn't scaled by the parameter visual_scale anymore</div></blockquote><br /><span style="font-style: italic">Looks</span> like a bug, but this isn't certain yet.[/quote]<br /><br />Some problem here.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>runs</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 328</dd><dd><strong>Joined:</strong> Sat Oct 27, 2018 8:32 am</dd>
			<dd><strong>GitHub:</strong> runsy</dd>
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p346586" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/47_22363.htm#p346586">Re: Problems with texture scaling/orientation since Minetest</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>blachner</strong> &raquo; Tue Mar 19, 2019 8:09 pm </p>

			<div class="content">OK after adding the fix for rotation from here <a href="https://github.com/minetest/minetest/pull/8401/commits/47e81b4ded0ba5cc11ebfca268386e0c265af0b7" class="postlink">https://github.com/<a href="https://github.com/minetest/minetest/pull/8401/commits/47e81b4ded0ba5cc11ebfca268386e0c265af0b7" class="postlink">minetest/<a href="https://github.com/minetest/minetest/pull/8401/commits/47e81b4ded0ba5cc11ebfca268386e0c265af0b7" class="postlink">minetest/pull/8401/commits/47e81b4ded0ba5cc11ebfca268386e0c265af0b7</a> it and compile Minetes 5 it looks like these:<br /><br /><img src="https://forum.minetest.net/download/file.php?mode=view&amp;id=18503&amp;sid=ca40aad34d433d2b0190c7eecf2fd685" alt="Image" /><br /><br />Now I only need a solution to fix the texture scaling. I don't find a workaround for this yet. This issue is tracked here: <a href="https://github.com/minetest/minetest/issues/8400" class="postlink">https://github.com/<a href="https://github.com/minetest/minetest/issues/8400" class="postlink">minetest/<a href="https://github.com/minetest/minetest/issues/8400" class="postlink">minetest/issues/8400</a></div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>blachner</strong>
			</dt>
			<dd>New member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 2</dd><dd><strong>Joined:</strong> Sun Mar 17, 2019 8:26 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p346595" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/47_22363.htm#p346595">Re: Problems with texture scaling/orientation since Minetest</nobr></a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>paramat</strong> &raquo; Tue Mar 19, 2019 11:44 pm </p>

			<div class="content">The rotation fix is merged and will be in the soon-released 5.0.1.<br />Scaling nodeboxes was never officially supported, it happened by accident because nodeboxes were internally converted into meshes in MT 0.4.x (but are not in 5.0.0).<br />However, although fixing the scaling of nodeboxes is easy, scaling textures is not, so we may well work on making that possible, but probably not for 5.0.1 to not delay that.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>paramat</strong>
			</dt>
			<dd>Developer</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 3344</dd><dd><strong>Joined:</strong> Sun Oct 28, 2012 12:05 am</dd>
			<dd><strong>GitHub:</strong> paramat</dd>
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<hr class="divider" />

	<hr />

<div class="topic-actions">
		<div class="pagination">
			5 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
</div>

	<p></p><p><a href="./viewforum.php?f=47" class="left-box left" accesskey="r">Return to Modding Discussion</a></p>

	<br /><br />

	<h3>Who is online</h3>
	<p>Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Yandex Bot [Bot]</span> and 0 guests</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="./index.php">Board index</a></li>
				
			<li class="rightside">All times are UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<div class="copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
		
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
</div>

</body>
</html></div>

