<!--
  Mintest Forum Recovery Project (by sorcerykid)

  https://sorcerykid.github.io/minetest-forums/pages/6_22487.htm

  The following page was cached by Yandex Bot (https://yandex.com/) on 10-Apr-2019.
  All archived content is subject to copyright. No warranty or guaranty is implied.
-->
<base href="https://forum.minetest.net/" />
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>Minetest Forums &bull; View topic - Rename Player</title>

<link rel="alternate" type="application/atom+xml" title="Feed - Minetest Forums" href="https://forum.minetest.net/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="https://forum.minetest.net/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Mods" href="https://forum.minetest.net/feed.php?f=46" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Rename Player" href="https://forum.minetest.net/feed.php?f=6&amp;t=22487" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->

<link href="./styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="./style.php?id=5&amp;lang=en" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="./styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="./styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="./styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />

</head>

<body id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<div id="site-description">
				<a href="./index.php" title="Board index" id="logo"><img src="./styles/prosilver/imageset/site_logo.gif" width="149" height="52" alt="" title="" /></a>
				<h1>Minetest Forums</h1>
				<p>The official Minetest discussion board</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="./index.php" accesskey="h">Board index</a> <strong>&#8249;</strong> <a href="./viewforum.php?f=6">Problems</a></li>
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>
	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="./viewtopic.php?f=46&amp;t=22487">Rename Player</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->

<div class="topic-actions">
		<div class="pagination">
			8 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
</div>
<div class="clear"></div>

	<div id="p348114" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class="first"><a href="https://sorcerykid.github.io/minetest-forums/pages/6_22487.htm#p348114">Rename Player</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>JCB</strong> &raquo; Fri Apr 05, 2019 12:46 am </p>

			<div class="content">Hello, <br /><br />I see in 5.0 the players are in and SQL database.<br /><br />How can one rename a player and maintain all inventory etc... <br /><br />Thank you<br /><br />JC</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>JCB</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 10</dd><dd><strong>Joined:</strong> Thu Mar 21, 2019 8:12 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p348123" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/6_22487.htm#p348123">Re: Rename Player</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>sofar</strong> &raquo; Fri Apr 05, 2019 6:35 am </p>

			<div class="content">you'd have to update the sqlite tables while MT is shut down. For information on that, look up the sqlite3 online documentation, it has almost everything you need to know.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>sofar</strong>
			</dt>
			<dd>Developer</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 2034</dd><dd><strong>Joined:</strong> Fri Jan 16, 2015 7:31 am</dd>
			<dd><strong>GitHub:</strong> sofar</dd>
			<dd><strong>In-game:</strong> sofar</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p348126" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/6_22487.htm#p348126">Re: Rename Player</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Linuxdirk</strong> &raquo; Fri Apr 05, 2019 8:48 am </p>

			<div class="content">Wow, I thought about the exact same thing this morning ...<br /><br />What happens with locked chests, iron doors, etc. when renaming the player? Do we need to manually replace all &quot;oldplayer&quot; with &quot;newplayer&quot; in all databases or are the players handled via IDs?</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Linuxdirk</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1901</dd><dd><strong>Joined:</strong> Wed Sep 17, 2014 11:21 am</dd>
			
			<dd><strong>In-game:</strong> Linuxdirk</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p348140" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/6_22487.htm#p348140">Re: Rename Player</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>sofar</strong> &raquo; Fri Apr 05, 2019 3:45 pm </p>

			<div class="content"><blockquote><div><cite>Linuxdirk wrote:</cite>Wow, I thought about the exact same thing this morning ...<br /><br />What happens with locked chests, iron doors, etc. when renaming the player? Do we need to manually replace all &quot;oldplayer&quot; with &quot;newplayer&quot; in all databases or are the players handled via IDs?</div></blockquote><br /><br />Owner names are stored in nodemeta, so, you'd have to run lua code to convert ownerships.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>sofar</strong>
			</dt>
			<dd>Developer</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 2034</dd><dd><strong>Joined:</strong> Fri Jan 16, 2015 7:31 am</dd>
			<dd><strong>GitHub:</strong> sofar</dd>
			<dd><strong>In-game:</strong> sofar</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p348144" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/6_22487.htm#p348144">Re: Rename Player</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>micheal65536</strong> &raquo; Fri Apr 05, 2019 5:23 pm </p>

			<div class="content"><blockquote><div><cite>Linuxdirk wrote:</cite>What happens with locked chests, iron doors, etc. when renaming the player? Do we need to manually replace all &quot;oldplayer&quot; with &quot;newplayer&quot; in all databases or are the players handled via IDs?</div></blockquote><br />Neither. Locked chests, doors, etc. would keep the old name of the player, but there's no practical way to update them to use the new name of the player because this information is stored separately for every single locked/owned node. For this reason, renaming Minetest players is pretty much impossible in real-world situations and is normally avoided.<br /><br />Some time I might write a tool to read through an entire Minetest map and update the metadata on every locked node owned by the player, however running such a tool on a moderately-sized Minetest map would be a time-consuming exercise that would have to be carried out while the server is offline. An alternative could be to use an LBM however every player that has ever been renamed would have to be handled forever after by the LBM on every chunk load, unless you had some way of ensuring that there are no remaining locked/owned nodes in the map with the player's old name - in other words, this is pretty much impossible in real-world situations.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>micheal65536</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 114</dd><dd><strong>Joined:</strong> Mon May 22, 2017 8:27 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p348149" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/6_22487.htm#p348149">Re: Rename Player</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Linuxdirk</strong> &raquo; Fri Apr 05, 2019 7:11 pm </p>

			<div class="content"><blockquote><div><cite>micheal65536 wrote:</cite>Some time I might write a tool to read through an entire Minetest map and update the metadata on every locked node owned by the player</nobr>, […]</div></blockquote><br />Shouldn’t this be possible to do by directly accessing the world database while the server is offline? Just checked the map.sqlite. Looks like you just need to somehow decode the blob for each node, replace the name, encode it, and write the changed blob to the database.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Linuxdirk</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1901</dd><dd><strong>Joined:</strong> Wed Sep 17, 2014 11:21 am</dd>
			
			<dd><strong>In-game:</strong> Linuxdirk</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p348152" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/6_22487.htm#p348152">Re: Rename Player</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>sofar</strong> &raquo; Fri Apr 05, 2019 8:21 pm </p>

			<div class="content"><blockquote><div><cite>Linuxdirk wrote:</cite>Looks like you just need to somehow decode the blob for each node, replace the name, encode it, and write the changed blob to the database.</div></blockquote><br /><br />certainly possible, but you could do something like this in a mod and do it on demand, which is generally much more efficient.<br /><br />But really, why do you want to rename a player? Did someone threaten you with a GDPR?</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>sofar</strong>
			</dt>
			<dd>Developer</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 2034</dd><dd><strong>Joined:</strong> Fri Jan 16, 2015 7:31 am</dd>
			<dd><strong>GitHub:</strong> sofar</dd>
			<dd><strong>In-game:</strong> sofar</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p348162" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/6_22487.htm#p348162">Re: Rename Player</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Linuxdirk</strong> &raquo; Fri Apr 05, 2019 11:37 pm </p>

			<div class="content">Just curious.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Linuxdirk</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1901</dd><dd><strong>Joined:</strong> Wed Sep 17, 2014 11:21 am</dd>
			
			<dd><strong>In-game:</strong> Linuxdirk</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<hr class="divider" />

	<hr />

<div class="topic-actions">
		<div class="pagination">
			8 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
</div>

	<p></p><p><a href="./viewforum.php?f=6" class="left-box left" accesskey="r">Return to Problems</a></p>

	<br /><br />

	<h3>Who is online</h3>
	<p>Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Yandex Bot [Bot]</span> and 0 guests</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="./index.php">Board index</a></li>
				
			<li class="rightside">All times are UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<div class="copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
		
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
</div>

</body>
</html></div>

