<!--
  Mintest Forum Recovery Project (by sorcerykid)

  https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm

  The following page was cached by Bing Bot (https://bing.com/) on 25-Apr-2019.
  All archived content is subject to copyright. No warranty or guaranty is implied.
-->
<base href="https://forum.minetest.net/" />
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>Minetest Forums &bull; View topic - [Mod] Static Spawnpoint [spawnpoint]</title>

<link rel="alternate" type="application/atom+xml" title="Feed - Minetest Forums" href="https://forum.minetest.net/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="https://forum.minetest.net/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Mods" href="https://forum.minetest.net/feed.php?f=46" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - [Mod] Static Spawnpoint [spawnpoint]" href="https://forum.minetest.net/feed.php?f=9&amp;t=16923" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->

<link href="./styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="./style.php?id=5&amp;lang=en" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="./styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="./styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="./styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />

</head>

<body id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<div id="site-description">
				<a href="./index.php" title="Board index" id="logo"><img src="./styles/prosilver/imageset/site_logo.gif" width="149" height="52" alt="" title="" /></a>
				<h1>Minetest Forums</h1>
				<p>The official Minetest discussion board</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="./index.php" accesskey="h">Board index</a> <strong>&#8249;</strong> <a href="./viewforum.php?f=9">WIP Mods</a></li>
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>
	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="./viewtopic.php?f=46&amp;t=16923">[Mod] Static Spawnpoint [spawnpoint]</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->

<div class="topic-actions">
		<div class="pagination">
			16 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
</div>
<div class="clear"></div>

	<div id="p256008" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class="first"><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p256008">[Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>octacian</strong> &raquo; Wed Mar 08, 2017 10:50 pm </p>

			<div class="content"><img src="https://raw.githubusercontent.com/octacian/spawnpoint/master/screenshot.png" alt="Image" /><br /><br /><span style="font-size: 200%; line-height: 116%;"><span style="font-weight: bold">Static Spawnpoint [spawnpoint]</span></span><br /><ul><li>License: MIT (see LICENSE)</li><li><a href="https://github.com/octacian/spawnpoint/archive/master.zip" class="postlink">Download Latest Version</a></li><li>...or browse the code on <a href="https://github.com/octacian/spawnpoint" class="postlink">GitHub</a></li></ul><br />This is a rather simple mod introducing two commands to set a static spawnpoint and to teleport to it. Yes, I know you can set this in minetest.conf, however, doing so causes the spawnpoint to be the same across all of your worlds (very inconvenient). Instead of using minetest.conf, this mod stores the spawnpoint (and other settings) within the world directory itself. This allows each and every world to have a different spawnpoint and configuration.<br /><br />The most unique thing about this spawn mod is that it includes a feature allowing you to set the time between executing the command until the player is actually teleported. You can also enable a setting which causes the teleportation to be interrupted if the player moves within the original time.<br /><br /><span style="font-size: 150%; line-height: 116%;">Commands</span><br /><br /><span style="font-weight: bold">/spawnpoint:</span> Display spawnpoint position if set<br /><span style="font-weight: bold">/spawn &lt;player&gt;:</span> Teleports you or the player specified to the spawnpoint (requires spawn privilege, and bring privilege to teleport another player)<br /><span style="font-weight: bold">/setspawn &lt;position&gt;:</span> Sets the spawn to the position specified (in format x, y, z) or to your current location (requires server privilege)<br /><br /><span style="font-weight: bold">Note</span>: If no spawnpoint is specified and a player attempts to execute /spawn, he/she will be told &quot;No spawnpoint set!&quot;<br /><br /><span style="font-size: 150%; line-height: 116%;">Configuration</span><br /><br />The different &quot;variables&quot; of SpawnPoint can be configured per-world using the /spawnpoint command (requires server privilege). This command displays the spawnpoint if no parameters are provided, but when a setting name is provided, the value of the setting is returned (assuming such a setting exists). If a setting name and value is provided, the setting is changed. Valid setting names are listed below.<br /><br /><span style="font-weight: bold">time:</span> Time before teleportation is completed (if 0 teleportation is immediate)<br /><span style="font-weight: bold">do_not_move:</span> Whether a player should be required to not move to allow teleportation to be successful<br /><span style="font-weight: bold">pos:</span> Position in the format (&lt;x&gt;,&lt;y&gt;,&lt;z&gt;) - can only be set via /setspawn or manually in configuration files<br /><br />This per-world configuration (including the spawn position itself) is stored in the world directory. If Minetest 0.4.16's new modstorage is available, SpawnPoint will use that to store configuration. Otherwise, configuration will be handled by the Minetest Settings API and placed in a spawnpoint.conf file. If you would like to configure SpawnPoint manually, create a spawnpoint.conf file in the world directory and assign values to the applicable settings as documented above, each setting on a new line in the format setting_name = setting_value.<br /><br />Initially, SpawnPoint stored all settings in a multi-line spawnpoint.conf file, however, this made very little sense as setting weren't named. With the new configuration scheme as documented above, compatibility code has been implemented causing all the old settings to be imported into the newest format possible. When the formatted settings method is used with spawnpoint.conf, all configuration is automatically imported to Minetest modstorage as well when it becomes available. After importing takes place from spawnpoint.conf, the file is removed.<br /><br />Screenshot was taken at spawn on the awesome <a href="https://forum.minetest.net/viewtopic.php?f=10&amp;t=16699" class="postlink">HOMETOWN</a> server!</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>octacian</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 593</dd><dd><strong>Joined:</strong> Mon Dec 21, 2015 10:18 pm</dd>
			<dd><strong>GitHub:</strong> octacian</dd>
			<dd><strong>In-game:</strong> octacian</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p256175" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p256175">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>azekill_DIABLO</strong> &raquo; Thu Mar 09, 2017 5:18 pm </p>

			<div class="content">Just perfect</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>azekill_DIABLO</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 7469</dd><dd><strong>Joined:</strong> Wed Oct 29, 2014 8:05 pm</dd>
			<dd><strong>GitHub:</strong> azekillDIABLO</dd>
			<dd><strong>In-game:</strong> azekill_DIABLO</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p259967" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p259967">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>octacian</strong> &raquo; Fri Mar 24, 2017 12:29 am </p>

			<div class="content"><span style="font-weight: bold">Update!</span><br /><br />SpawnPoint has now undergone heavy testing and is stable for use anywhere. You can now configure the mod per-world using the /spawnpoint chatcommand if you have the server privilege (see OP). The do not move function has been improved so that the position is not just checked every second but instead using a global step to update immediately.<br /><br /><span style="font-weight: bold">Note:</span> The ability to configure SpawnPoint in minetest.conf has been removed for simplicity of code. However, if enough people find this feature important, I will consider adding it back.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>octacian</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 593</dd><dd><strong>Joined:</strong> Mon Dec 21, 2015 10:18 pm</dd>
			<dd><strong>GitHub:</strong> octacian</dd>
			<dd><strong>In-game:</strong> octacian</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p275466" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p275466">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>muhdnurhidayat</strong> &raquo; Tue Jun 06, 2017 1:00 pm </p>

			<div class="content">That header image... seems familiar... :3</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>muhdnurhidayat</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 296</dd><dd><strong>Joined:</strong> Wed Nov 16, 2016 10:55 pm</dd>
			<dd><strong>GitHub:</strong> MuhdNurHidayat</dd>
			<dd><strong>In-game:</strong> muhdnurhidayat</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p279140" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p279140">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>harmony</strong> &raquo; Thu Jun 22, 2017 5:58 pm </p>

			<div class="content"><blockquote><div><cite>muhdnurhidayat wrote:</cite>That header image... seems familiar... :3</div></blockquote><br />It's for Hometown :D</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>harmony</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 410</dd><dd><strong>Joined:</strong> Tue Jun 20, 2017 10:16 pm</dd>
			
			<dd><strong>In-game:</strong> ynomrah</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p281146" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p281146">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>octacian</strong> &raquo; Sun Jul 02, 2017 7:18 pm </p>

			<div class="content"><span style="font-weight: bold">Update!</span><br /><br /><ul><br /></ul></div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>octacian</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 593</dd><dd><strong>Joined:</strong> Mon Dec 21, 2015 10:18 pm</dd>
			<dd><strong>GitHub:</strong> octacian</dd>
			<dd><strong>In-game:</strong> octacian</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p281147" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p281147">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>octacian</strong> &raquo; Sun Jul 02, 2017 7:20 pm </p>

			<div class="content"><span style="font-weight: bold">Update!</span><br /><br /><ul><li>New save formats now supported (Key-value settings and Minetest 0.4.16's modstorage)</li><li>Compatibility to import old settings formats to new formats as they become available</li><li>General cleanup of code style</li><li>Use built-in vector functions to process positions</li></ul><br />See the original post for in-depth information.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>octacian</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 593</dd><dd><strong>Joined:</strong> Mon Dec 21, 2015 10:18 pm</dd>
			<dd><strong>GitHub:</strong> octacian</dd>
			<dd><strong>In-game:</strong> octacian</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p281157" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p281157">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Wuzzy</strong> &raquo; Sun Jul 02, 2017 8:41 pm </p>

			<div class="content">Why not fixing this right in the engine? This seems like an engine bug to me.<br />I think many more settings need to become mapgen settings and saved with the map. static_spawn_point is one of them.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Wuzzy</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 3440</dd><dd><strong>Joined:</strong> Mon Sep 24, 2012 3:01 pm</dd>
			<dd><strong>GitHub:</strong> Wuzzy2</dd>
			<dd><strong>In-game:</strong> Wuzzy</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p281162" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p281162">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>octacian</strong> &raquo; Sun Jul 02, 2017 8:57 pm </p>

			<div class="content"><blockquote><div><cite>Wuzzy wrote:</cite>Why not fixing this right in the engine? This seems like an engine bug to me.<br />I think many more settings need to become mapgen settings and saved with the map. static_spawn_point is one of them.</div></blockquote><br /><br />I hadn't considered that. Definitely not a bug, could be a good feature request though. I'll open an issue or PR soon. Maybe a static_spawn_point setting in world.mt. Could even expand to allow easily setting a per-player spawnpoint with something like &quot;player:set_spawn&quot;. This would eliminate the need to check for mods such as beds on_respawnplayer, etc...<br /><br />Whatever happens, some features of this mod like time and do_not_move would have to stay in a mod most likely. I expect that /spawn and /setspawn would be implemented in the engine at the same time if static spawnpoints were improves.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>octacian</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 593</dd><dd><strong>Joined:</strong> Mon Dec 21, 2015 10:18 pm</dd>
			<dd><strong>GitHub:</strong> octacian</dd>
			<dd><strong>In-game:</strong> octacian</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p285191" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p285191">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Lone_Wolf</strong> &raquo; Mon Jul 24, 2017 3:54 pm </p>

			<div class="content">Great mod!</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Lone_Wolf</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 2145</dd><dd><strong>Joined:</strong> Sun Apr 09, 2017 5:50 am</dd>
			<dd><strong>GitHub:</strong> LoneWolfHT</dd>
			<dd><strong>In-game:</strong> Lone_Wolf</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p287700" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p287700">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Stix</strong> &raquo; Sun Aug 06, 2017 3:03 pm </p>

			<div class="content"><blockquote><div><cite>Lone_Wolf wrote:</cite>Great mod!</div></blockquote><br />agreed, +1</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Stix</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 1365</dd><dd><strong>Joined:</strong> Fri Aug 04, 2017 2:19 pm</dd>
			
			<dd><strong>In-game:</strong> Stix [+alts]</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p324341" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p324341">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>R-One</strong> &raquo; Thu Jul 05, 2018 10:33 am </p>

			<div class="content">hi, the setspawn command makes an error under minetest 0.4.17.1<br /><br /><style>
.spoiler {
	border: solid 1px #eee !important;
	border-radius: 0.2em;
	background: #fff;
	padding: 0.5em 0.75em;
	margin: 0.75em 1em
}
.spoiler_header {
	color: #cb4b16;
	cursor: pointer;
	-moz-user-select: none;
	-webkit-user-select: none;
	user-select: none
}
.spoiler_content {
	margin-top: 0.7em !important;
	padding-top: 0.7em !important;
	padding: .35em 0;
	color: #333;
	border-top: dashed 1px #eee !important
}
</style>
<script>
function spoiler_toggle(event) {
	var node = event.target;
	if (node.nodeName != "DIV") {
		node = node.parentNode;
	}
	var contentNode = node.nextSibling;
	if (contentNode && contentNode.className == "spoiler_content") {
		if(contentNode.style.display == "none") {
			contentNode.style.display = "block";
			node.firstChild.firstChild.nodeValue = "-";
		} else {
			contentNode.style.display = "none";
			node.firstChild.firstChild.nodeValue = "+";
		}
		return false;
	}
	return true;
}
</script>
<div class="spoiler">
	<div class="spoiler_header" onClick="spoiler_toggle(event);"><b>+</b>
		Log of error here
	</div><div class="spoiler_content" style="display: none;">
		2018-07-05 12:30:09: ERROR[Main]: ServerError: AsyncErr: ServerThread::run Lua: Runtime error from mod &#39;spawnpoint&#39; in callback on_chat_message&#40;&#41;: ...\minetest-0.4.17.1-win64\bin\..\mods\spawnpoint\init.lua:120: bad argument #2 to &#39;set_float&#39; &#40;number expected, got nil&#41;<br />2018-07-05 12:30:09: ERROR[Main]: stack traceback:<br />2018-07-05 12:30:09: ERROR[Main]: 	[C]: in function &#39;set_float&#39;<br />2018-07-05 12:30:09: ERROR[Main]: 	...\minetest-0.4.17.1-win64\bin\..\mods\spawnpoint\init.lua:120: in function &#39;save&#39;<br />2018-07-05 12:30:09: ERROR[Main]: 	...\minetest-0.4.17.1-win64\bin\..\mods\spawnpoint\init.lua:149: in function &#39;set&#39;<br />2018-07-05 12:30:09: ERROR[Main]: 	...\minetest-0.4.17.1-win64\bin\..\mods\spawnpoint\init.lua:270: in function &#39;func&#39;<br />2018-07-05 12:30:09: ERROR[Main]: 	...test-0.4.17.1-win64\bin\..\builtin\game\chatcommands.lua:30: in function &lt;...test-0.4.17.1-win64\bin\..\builtin\game\chatcommands.lua:9&gt;<br />2018-07-05 12:30:09: ERROR[Main]: 	...minetest-0.4.17.1-win64\bin\..\builtin\game\register.lua:420: in function &lt;...minetest-0.4.17.1-win64\bin\..\builtin\game\register.lua:400&gt;
	</div>
</div><br /><br />- EDIT : <br /><br /><blockquote class="uncited"><div>ok i managed to run the mod under 0.4.17.1, for that i created the spawnpoint.conf file in the world folder.<br /><br />I restarted the game, and obviously the mod has created the mod_storage folder and deleted the spawnpoint.conf file since everything works.<br /><br />A possible issue to investigate for new installations.</div></blockquote></div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>R-One</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 105</dd><dd><strong>Joined:</strong> Wed Dec 20, 2017 11:06 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p324356" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p324356">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>octacian</strong> &raquo; Thu Jul 05, 2018 3:03 pm </p>

			<div class="content">Thanks for bringing my attention to this!<br /><br />I won't be able to take a look for a few weeks - I'm really busy with some things. As soon as I have time though, I'll try to take a look. In the meantime, it's good to hear you were able to get it working.<br /><br />Just FYI, the fix should actually be quite simple. A few lines at most. I may even be able to do it right away, with that in mind.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>octacian</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 593</dd><dd><strong>Joined:</strong> Mon Dec 21, 2015 10:18 pm</dd>
			<dd><strong>GitHub:</strong> octacian</dd>
			<dd><strong>In-game:</strong> octacian</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p324359" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p324359">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Lone_Wolf</strong> &raquo; Thu Jul 05, 2018 3:31 pm </p>

			<div class="content">I also had this error</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Lone_Wolf</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 2145</dd><dd><strong>Joined:</strong> Sun Apr 09, 2017 5:50 am</dd>
			<dd><strong>GitHub:</strong> LoneWolfHT</dd>
			<dd><strong>In-game:</strong> Lone_Wolf</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p346749" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p346749">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Miniontoby</strong> &raquo; Thu Mar 21, 2019 1:42 pm </p>

			<div class="content">I have the solution. <br /><br />Change in &quot;unit.lua&quot; all the words &quot;storage&quot; to &quot;mod_storage&quot; and the mod should work</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Miniontoby</strong>
			</dt>
			<dd>New member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 8</dd><dd><strong>Joined:</strong> Fri Mar 01, 2019 7:25 pm</dd>
			
			<dd><strong>In-game:</strong> Miniontoby</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p346802" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_16923.htm#p346802">Re: [Mod] Static Spawnpoint [spawnpoint]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Lone_Wolf</strong> &raquo; Fri Mar 22, 2019 2:27 am </p>

			<div class="content"><blockquote><div><cite>Miniontoby wrote:</cite>I have the solution. <br /><br />Change in &quot;unit.lua&quot; all the words &quot;storage&quot; to &quot;mod_storage&quot; and the mod should work</div></blockquote><br />Pretty sure that prevents it from saving the pawnpoint when the world restarts too<br />I created a PR that fixes it <!-- m --><a class="postlink" href="https://github.com/octacian/spawnpoint/pull/3">https://github.com/octacian/spawnpoint/pull/3</a><!-- m --></div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Lone_Wolf</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 2145</dd><dd><strong>Joined:</strong> Sun Apr 09, 2017 5:50 am</dd>
			<dd><strong>GitHub:</strong> LoneWolfHT</dd>
			<dd><strong>In-game:</strong> Lone_Wolf</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<hr class="divider" />

	<hr />

<div class="topic-actions">
		<div class="pagination">
			16 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
</div>

	<p></p><p><a href="./viewforum.php?f=9" class="left-box left" accesskey="r">Return to WIP Mods</a></p>

	<br /><br />

	<h3>Who is online</h3>
	<p>Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Bing Bot [Bot]</span> and 0 guests</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="./index.php">Board index</a></li>
				
			<li class="rightside">All times are UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<div class="copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
		
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
</div>

</body>
</html></div>

