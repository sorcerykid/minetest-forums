<!--
  Mintest Forum Recovery Project (by sorcerykid)

  https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm

  The following page was cached by Bing Bot (https://bing.com/) on 27-Mar-2019.
  All archived content is subject to copyright. No warranty or guaranty is implied.
-->
<base href="https://forum.minetest.net/" />
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>Minetest Forums &bull; View topic - Mobkit - Entity API [mobkit][wip]</title>

<link rel="alternate" type="application/atom+xml" title="Feed - Minetest Forums" href="https://forum.minetest.net/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="https://forum.minetest.net/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Mods" href="https://forum.minetest.net/feed.php?f=46" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Mobkit - Entity API [mobkit][wip]" href="https://forum.minetest.net/feed.php?f=9&amp;t=22112" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->

<link href="./styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="./style.php?id=5&amp;lang=en" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="./styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="./styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="./styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />

</head>

<body id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<div id="site-description">
				<a href="./index.php" title="Board index" id="logo"><img src="./styles/prosilver/imageset/site_logo.gif" width="149" height="52" alt="" title="" /></a>
				<h1>Minetest Forums</h1>
				<p>The official Minetest discussion board</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="./index.php" accesskey="h">Board index</a> <strong>&#8249;</strong> <a href="./viewforum.php?f=9">WIP Mods</a></li>
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>
	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="./viewtopic.php?f=46&amp;t=22112">Mobkit - Entity API [mobkit][wip]</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->

<div class="topic-actions">
		<div class="pagination">
			50 posts
			 &bull; Page <strong>2</strong> of <strong>2</strong>
		</div>
</div>
<div class="clear"></div>

	<div id="p344180" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344180">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>runs</strong> &raquo; Fri Feb 22, 2019 9:34 pm </p>

			<div class="content"><blockquote><div><cite>Termos wrote:</cite>I decided to post some preview code, attachments in the first post.<br />.</div></blockquote><br /><br />cool! If you complete it, I will use it in the mobs mod I'm working on.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>runs</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 329</dd><dd><strong>Joined:</strong> Sat Oct 27, 2018 8:32 am</dd>
			<dd><strong>GitHub:</strong> runsy</dd>
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344183" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344183">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>runs</strong> &raquo; Fri Feb 22, 2019 10:29 pm </p>

			<div class="content">I've tested with my kitty mob:<br /><br />-Kitty seems to avoid jumping heights, it can fall but it has to think about that.<br />-Kitty is not stuck on obstacles: cool!<br />-Kitty seems to spin too much.<br />-Kitty acts like a submarine in the water.<br />-I would like that kitty to follow me.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>runs</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 329</dd><dd><strong>Joined:</strong> Sat Oct 27, 2018 8:32 am</dd>
			<dd><strong>GitHub:</strong> runsy</dd>
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344218" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344218">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Sokomine</strong> &raquo; Sat Feb 23, 2019 12:07 pm </p>

			<div class="content"><blockquote><div><cite>Termos wrote:</cite>Entity property (function). Mobs must have it, inanimate objects not necessarily so. This is where the most important cognitive processes take place: where do we come from, what is the purpose of meaning, and above all - what are we going to do next.<br /></div></blockquote><br />Sounds like a good plan if you can manage to implement it. Most mods that want to do something with a (more intelligent) mob don't really have to know how to do all the small steps necessary to accomplish the larger goal. Duplication of code can be avoided, behaviour simulated. The builders I need for my citybuilder mod could profit.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Sokomine</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 3742</dd><dd><strong>Joined:</strong> Sun Sep 09, 2012 5:31 pm</dd>
			<dd><strong>GitHub:</strong> Sokomine</dd>
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344222" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344222">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Termos</strong> &raquo; Sat Feb 23, 2019 5:20 pm </p>

			<div class="content"><blockquote><div><cite>runs wrote:</cite>I've tested with my kitty mob:</div></blockquote><br /><span style="font-weight: bold">-Kitty seems to avoid jumping heights, it can fall but it has to think about that.</span><br />With this behavior active, they shouldn't fall down farther than they can jump back up. Would you tell me more about how it happened? What jump_height setting?<br /><br /><span style="font-weight: bold">-Kitty seems to spin too much.</span><br />This is because there are no pauses between moves (intentional for demonstration purposes), so they go back and forth in rapid succession sometimes. You can try dropping a mobkit.lq_idle near the end in hq_roam.<br /><br /><span style="font-weight: bold">-Kitty acts like a submarine in the water.</span><br />Buoyancy coming soon.<br /><br /><span style="font-weight: bold">-I would like that kitty to follow me.</span><br />This is probably the next most important behavior, it's the very next on the todo list.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Termos</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 55</dd><dd><strong>Joined:</strong> Sun Dec 16, 2018 12:50 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344223" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344223">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Termos</strong> &raquo; Sat Feb 23, 2019 5:27 pm </p>

			<div class="content"><blockquote><div><cite>Sokomine wrote:</cite><blockquote><div><cite>Termos wrote:</cite>Most mods that want to do something with a (more intelligent) mob don't really have to know how to do all the small steps necessary to accomplish the larger goal.</div></blockquote></div></blockquote><br />Yup, this is the point, when this is more developed it should be easy to create different mobs quickly using a sizable library of built in behaviors.<br />These are humble beginnings, so there's only one atm, but more will follow.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Termos</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 55</dd><dd><strong>Joined:</strong> Sun Dec 16, 2018 12:50 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344236" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344236">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>runs</strong> &raquo; Sat Feb 23, 2019 10:29 pm </p>

			<div class="content"><blockquote><div><cite>Termos wrote:</cite><blockquote><div><cite>runs wrote:</cite>I've tested with my kitty mob:</div></blockquote><br /><span style="font-weight: bold">-Kitty seems to avoid jumping heights, it can fall but it has to think about that.</span><br />With this behavior active, they shouldn't fall down farther than they can jump back up. Would you tell me more about how it happened? What jump_height setting?.</div></blockquote><br /><br />Kitty cannot jump out this hole (even changing jump_heigh 1, 2, 3...)<br /><img src="https://i.postimg.cc/PJt7knMr/Captura-de-pantalla-de-2019-02-23-20-01-37.png" alt="Image" /><br /><br /><dl class="codebox"><dt>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>minetest.register_entity(&quot;petz:kitty&quot;, {<br />&nbsp; &nbsp;-- common props<br />&nbsp; &nbsp;physical = true,<br />&nbsp; &nbsp;rotate = Rotate,<br />&nbsp; &nbsp;damage = 8,<br />&nbsp; &nbsp; hp_min = 4,<br />&nbsp; &nbsp; hp_max = 8,<br />&nbsp; &nbsp; armor = 200,<br />&nbsp; &nbsp; --stepheight = 1,<br />&nbsp; &nbsp;collide_with_objects = true,<br />&nbsp; &nbsp;collisionbox = CollisionBox,<br />&nbsp; &nbsp;visual = Visual,<br />&nbsp; &nbsp;mesh = Mesh,<br />&nbsp; &nbsp;textures = Textures,<br />&nbsp; &nbsp;visual_size = VisualSize,<br />&nbsp; &nbsp;on_step = mobkit.stepfunc, -- required<br />&nbsp; &nbsp;on_activate = mobkit.actfunc, -- required<br />&nbsp; &nbsp;-- api props<br />&nbsp; &nbsp;springiness=0.5,<br />&nbsp; &nbsp;walk_speed = 1,<br />&nbsp; &nbsp;jump_height = 5,<br />&nbsp; &nbsp;brainfunc = function(self)&nbsp; &nbsp;-- dumbest brain possible<br />&nbsp; &nbsp;&nbsp; &nbsp;if mobkit.is_queue_empty_high(self) then mobkit.hq_roam(self) end<br />&nbsp; &nbsp;end<br />&nbsp; &nbsp; })</code></dd></dl></div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>runs</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 329</dd><dd><strong>Joined:</strong> Sat Oct 27, 2018 8:32 am</dd>
			<dd><strong>GitHub:</strong> runsy</dd>
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344243" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344243">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Termos</strong> &raquo; Sat Feb 23, 2019 11:46 pm </p>

			<div class="content">Springiness is not intended to be used with mobs, this is probably the cause, my guess is she bounces off the walls, try setting it to zero.<br />Also, I'd reduce the hitbox size 3 to 4 times to match the model, horizontal dimensions should never exceed 1 anyway.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Termos</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 55</dd><dd><strong>Joined:</strong> Sun Dec 16, 2018 12:50 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344285" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344285">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>runs</strong> &raquo; Sun Feb 24, 2019 9:50 am </p>

			<div class="content"><blockquote><div><cite>Termos wrote:</cite>Springiness is not intended to be used with mobs, this is probably the cause, my guess is she bounces off the walls, try setting it to zero.<br />Also, I'd reduce the hitbox size 3 to 4 times to match the model, horizontal dimensions should never exceed 1 anyway.</div></blockquote><br /><br />The model size is inside a node. No hitbox, but collisionbox.<br /><br /><dl class="codebox"><dt>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>CollisionBox = {-0.35, -0.5, -0.28, 0.35, -0.125, 0.28}</code></dd></dl><br /><br />If I comment it (the collisionbox is defined by the mesh itself), I get the following errors:<br /><br /><dl class="codebox"><dt>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>2019-02-24 10:46:34: ERROR&#91;Main&#93;: ServerError: AsyncErr: ServerThread::run Lua: Runtime error from mod 'petz' in callback luaentity_Activate(): /opt/minetest/bin/../games/bogart/mods/mobkit/init.lua:317: attempt to perform arithmetic on a nil value</code></dd></dl><br /><br />That's the line:<br /><br /><dl class="codebox"><dt>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>self.height = self.collisionbox&#91;5&#93; - self.collisionbox&#91;2&#93;</code></dd></dl><br /><br />And also:<br /><br /><blockquote class="uncited"><div>2019-02-24 10:45:25: ERROR[Main]: ServerError: AsyncErr: ServerThread::run Lua: Runtime error from mod 'petz' in callback luaentity_Step(): /opt/minetest/bin/../games/bogart/mods/mobkit/init.lua:159: attempt to perform arithmetic on field 'height' (a nil value)<br />2019-02-24 10:45:25: ERROR[Main]: stack traceback:<br />2019-02-24 10:45:25: ERROR[Main]: 	/opt/minetest/bin/../games/bogart/mods/mobkit/init.lua:159: in function 'is_neighbor_node_reachable'<br />2019-02-24 10:45:25: ERROR[Main]: 	/opt/minetest/bin/../games/bogart/mods/mobkit/init.lua:290: in function 'func'<br />2019-02-24 10:45:25: ERROR[Main]: 	/opt/minetest/bin/../games/bogart/mods/mobkit/init.lua:192: in function 'execute_queues'<br />2019-02-24 10:45:25: ERROR[Main]: 	/opt/minetest/bin/../games/bogart/mods/mobkit/init.lua:366: in function &lt;/opt/minetest/bin/../games/bogart/mods/mobkit/init.lua:320&gt;</div></blockquote></div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>runs</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 329</dd><dd><strong>Joined:</strong> Sat Oct 27, 2018 8:32 am</dd>
			<dd><strong>GitHub:</strong> runsy</dd>
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344329" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344329">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Termos</strong> &raquo; Sun Feb 24, 2019 6:08 pm </p>

			<div class="content">Ok, the main reason is such a model alignment is not supported.<br /><br />Probably it should be, as existing models' alignment seems to be all over the place, so now it is.<br />Tested with redo kitten model, mobkit reuploaded.<br />Thanks, good testin.<br /><br />That box of yours is still way too big though, and there are no good reasons for horizontal dimensions not to be equal.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Termos</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 55</dd><dd><strong>Joined:</strong> Sun Dec 16, 2018 12:50 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344330" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344330">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>runs</strong> &raquo; Sun Feb 24, 2019 6:10 pm </p>

			<div class="content"><blockquote><div><cite>Termos wrote:</cite>Ok, the main reason is such a model alignment is not supported.<br /><br />Probably it should be, as existing models' alignment seems to be all over the place, so now it is.<br />Tested with redo kitten model, mobkit reuploaded.<br />Thanks, good testin.<br /><br />That box of yours is still way too big though, and there are no good reasons for horizontal dimensions not to be equal.</div></blockquote><br /><br />I know it, I'm still in an early development stage. :-)</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>runs</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 329</dd><dd><strong>Joined:</strong> Sat Oct 27, 2018 8:32 am</dd>
			<dd><strong>GitHub:</strong> runsy</dd>
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344331" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344331">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>runs</strong> &raquo; Sun Feb 24, 2019 6:16 pm </p>

			<div class="content">I've tested it. Kitty is happy, now it can jump the hole :-D All is OK.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>runs</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 329</dd><dd><strong>Joined:</strong> Sat Oct 27, 2018 8:32 am</dd>
			<dd><strong>GitHub:</strong> runsy</dd>
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344416" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344416">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Termos</strong> &raquo; Mon Feb 25, 2019 6:40 pm </p>

			<div class="content">Proper knockback.<br /><br /><img src="https://i.ibb.co/fQXXXsH/kback.gif" alt="Image" /><br />Nothing fancy, giving it an initial velocity is enough.<br />That it stops when it should and then mobs continue their tasks is a byproduct of physics and behaviors.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Termos</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 55</dd><dd><strong>Joined:</strong> Sun Dec 16, 2018 12:50 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344621" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344621">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Lone_Wolf</strong> &raquo; Thu Feb 28, 2019 3:04 am </p>

			<div class="content"><blockquote><div><cite>Termos wrote:</cite>Proper knockback.<br /><br />Nothing fancy, giving it an initial velocity is enough.<br />That it stops when it should and then mobs continue their tasks is a byproduct of physics and behaviors.</div></blockquote><br />That was definitely needed lol. Don't think I could stand letting one of those things get close to me...</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Lone_Wolf</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 2113</dd><dd><strong>Joined:</strong> Sun Apr 09, 2017 5:50 am</dd>
			<dd><strong>GitHub:</strong> LoneWolfHT</dd>
			<dd><strong>In-game:</strong> Lone_Wolf</dd>
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344746" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344746">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Termos</strong> &raquo; Fri Mar 01, 2019 9:12 pm </p>

			<div class="content">Haha, he's a looker, ain't he? <br />True, his appearance may not be appealing to everyone's sensibilities,<br />so for the next clip i went with the Internet gold standard.<br /><br />They can see me.<br /><img src="https://i.ibb.co/XsGBCxT/seeme.gif" alt="Image" /><br />Now they are equipped with basic sensory apparata, it's time for more complex behaviors involving other entities and players, like following, running away, hunting, mating etc.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Termos</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 55</dd><dd><strong>Joined:</strong> Sun Dec 16, 2018 12:50 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344750" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344750">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>runs</strong> &raquo; Fri Mar 01, 2019 9:51 pm </p>

			<div class="content"><blockquote><div><cite>Termos wrote:</cite>Haha, he's a looker, ain't he? <br />True, his appearance may not be appealing to everyone's sensibilities,<br />so for the next clip i went with the Internet gold standard.<br /><br />They can see me.<br /><img src="https://i.ibb.co/XsGBCxT/seeme.gif" alt="Image" /><br />Now they are equipped with basic sensory apparata, it's time for more complex behaviors involving other entities and players, like following, running away, hunting, mating etc.</div></blockquote><br /><br />ohhh :-D</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>runs</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 329</dd><dd><strong>Joined:</strong> Sat Oct 27, 2018 8:32 am</dd>
			<dd><strong>GitHub:</strong> runsy</dd>
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344990" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344990">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Termos</strong> &raquo; Mon Mar 04, 2019 8:30 pm </p>

			<div class="content">I gotta feeling somebody's following me<br /><br /><img src="https://i.ibb.co/F5Brmvh/follow.gif" alt="Image" /><br /><br />The simplest follower brain which makes them follow the first player they encounter looks like this:<br /><dl class="codebox"><dt>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>&nbsp; &nbsp;brainfunc = function(self)&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;if mobkit.is_queue_empty_high(self) then<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;local plyr = mobkit.get_nearby_player(self)<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if plyr then mobkit.hq_follow(self,plyr) end<br />&nbsp; &nbsp;&nbsp; &nbsp;end<br />&nbsp; &nbsp;end,</code></dd></dl><br /><br />Simple enough, huh?<br />Alas, coding particular behavior functions is not as simple as I would like it to be, yet.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Termos</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 55</dd><dd><strong>Joined:</strong> Sun Dec 16, 2018 12:50 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p344993" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p344993">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>runs</strong> &raquo; Mon Mar 04, 2019 9:51 pm </p>

			<div class="content"><blockquote><div><cite>Termos wrote:</cite>I gotta feeling somebody's following me<br /><br /><img src="https://i.ibb.co/F5Brmvh/follow.gif" alt="Image" /><br /><br />The simplest follower brain which makes them follow the first player they encounter looks like this:<br /><dl class="codebox"><dt>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>&nbsp; &nbsp;brainfunc = function(self)&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;if mobkit.is_queue_empty_high(self) then<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;local plyr = mobkit.get_nearby_player(self)<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if plyr then mobkit.hq_follow(self,plyr) end<br />&nbsp; &nbsp;&nbsp; &nbsp;end<br />&nbsp; &nbsp;end,</code></dd></dl><br /><br />Simple enough, huh?<br />Alas, coding particular behavior functions is not as simple as I would like it to be, yet.</div></blockquote><br /><br />Oh, impressive.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>runs</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 329</dd><dd><strong>Joined:</strong> Sat Oct 27, 2018 8:32 am</dd>
			<dd><strong>GitHub:</strong> runsy</dd>
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p345465" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p345465">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Termos</strong> &raquo; Fri Mar 08, 2019 6:31 pm </p>

			<div class="content">Turns out I hate him too.<br /><img src="https://i.ibb.co/hf52hPj/hate.gif" alt="Image" /><br /><br />5.x's all new <span style="font-weight: bold">set_rotation()</span></div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Termos</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 55</dd><dd><strong>Joined:</strong> Sun Dec 16, 2018 12:50 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p345797" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p345797">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Termos</strong> &raquo; Mon Mar 11, 2019 7:10 pm </p>

			<div class="content">Probably the coolest thing so far.<br />A mob attack that is defendable, makes combat more skill based and doesn't necessarily require animation <br /><img src="https://i.ibb.co/JzmCVS5/dodge2.gif" alt="Image" /><br />If I didn't dodge, it would have bit me.<br /><br />They are inert during jump/charge, so there's time to react and predict where they're gonna land. It also scales up nicely - combat with one opponent is easy, but it goes downhill fast when outnumbered.<br />Of course it will be way cooler with a very short 'prepare to jump' animation.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Termos</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 55</dd><dd><strong>Joined:</strong> Sun Dec 16, 2018 12:50 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p345980" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p345980">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>R-One</strong> &raquo; Wed Mar 13, 2019 12:54 pm </p>

			<div class="content">Here is a project that looks promising!<br /><br />Small questions:<br /><br />- would it be possible to integrate a variable that would list the blocks on which the mobs could not walk and jump? for example as fences.<br /><br />- Is the mod mobkit zip up-to-date?<br /><br />- Is there any integration of different gameplay such as feeding, taming ...?<br /><br />- Will it be possible to generate flying or swimming mobs?<br /><br />thank you for everything</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>R-One</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 79</dd><dd><strong>Joined:</strong> Wed Dec 20, 2017 11:06 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p346023" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p346023">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Termos</strong> &raquo; Wed Mar 13, 2019 9:20 pm </p>

			<div class="content"><blockquote><div><cite>R-One wrote:</cite>- would it be possible to integrate a variable that would list the blocks on which the mobs could not walk and jump? for example as fences.</div></blockquote><br />This being an api, I want to keep it free of any dependencies, so mobkit will probably never reference any specific node names or groups. However it is aware of these properties as they are exposed by minetest api.<br />Example: there's a separate function to check if a mob can move to a neighbor node, it takes an optional parameter - a list of no-go node names or groups. A modder can modify behaviors which use this function by passing the list.<br /><br />In short, it's the modder's job to provide specific names based on his needs and whatever mods or subgames he's using, it's the api's job to make this task as straightforward and easy as possible. <br /><blockquote><div><cite>R-One wrote:</cite>- Is the mod mobkit zip up-to-date?</div></blockquote><br />No, it's just a preview, quite outdated. The current state of the api is so I could make an alpha release soon, but I feel an example mod should be included, something more than an aimlessly walking clown, and this may take time.<br /><blockquote><div><cite>R-One wrote:</cite>- Is there any integration of different gameplay such as feeding, taming ...?</div></blockquote><br />These are very specific, I don't think it's a good idea for an api to implement one of many possible ways to do these things. Again, my goal is rather to make coding such behaviors easy.<br />Taming for example, 'follow' and 'stay' behaviors are already in, what's left is to decide the condidtions under which a creature becomes tame, which is best left to modders.<br /><br />But the bundled example mod might implement some of these at some point.<br /><blockquote><div><cite>R-One wrote:</cite>- Will it be possible to generate flying or swimming mobs?</div></blockquote><br />Definitely.<br />I started with land borne creatures only because they are the most needed and the most tricky to make move around.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Termos</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 55</dd><dd><strong>Joined:</strong> Sun Dec 16, 2018 12:50 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p346510" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p346510">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Termos</strong> &raquo; Mon Mar 18, 2019 8:01 pm </p>

			<div class="content">Which one is gonna win?<br /><img src="https://i.ibb.co/nzFMFZy/dogfight3.gif" alt="Image" /></div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Termos</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 55</dd><dd><strong>Joined:</strong> Sun Dec 16, 2018 12:50 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p346632" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p346632">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>R-One</strong> &raquo; Wed Mar 20, 2019 9:43 am </p>

			<div class="content">Excellent work !<br /><br />Can we have an exit time and a roadmap?<br /><br />I can not wait to test this in the games I'm developing, it's so cool to be able to give a unique character to each mob.<br /><br />Did you update the preview?</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>R-One</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 79</dd><dd><strong>Joined:</strong> Wed Dec 20, 2017 11:06 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p346880" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p346880">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>Termos</strong> &raquo; Fri Mar 22, 2019 10:42 pm </p>

			<div class="content">I'm afraid I can't offer any date estimates, I don't get to work on it with any regularity.<br /><br />I can only say I'm going to update the download as soon as I finish the example mod. I'm hoping it's done in the next couple of weeks, but I can't promise.</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>Termos</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 55</dd><dd><strong>Joined:</strong> Sun Dec 16, 2018 12:50 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p346994" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			<h3 class=""><a href="https://sorcerykid.github.io/minetest-forums/pages/9_22112_25.htm#p346994">Re: Mobkit - Entity API [mobkit][wip]</a></h3>
			<p class="author"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />by <strong>R-One</strong> &raquo; Sun Mar 24, 2019 9:01 am </p>

			<div class="content">Thank you very much, I understand it.<br /><br />I can not wait to see the result of your work. ;-)</div>
		</div>

			<dl class="postprofile">
			<dt>
				<strong>R-One</strong>
			</dt>
			<dd>Member</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 79</dd><dd><strong>Joined:</strong> Wed Dec 20, 2017 11:06 pm</dd>
			
			
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<hr class="divider" />

	<hr />

<div class="topic-actions">
		<div class="pagination">
			50 posts
			 &bull; Page <strong>2</strong> of <strong>2</strong>
		</div>
</div>

	<p></p><p><a href="./viewforum.php?f=9" class="left-box left" accesskey="r">Return to WIP Mods</a></p>

	<br /><br />

	<h3>Who is online</h3>
	<p>Users browsing this forum: <span style="color: #9E8DA7;" class="username-coloured">Bing Bot [Bot]</span> and 0 guests</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="./index.php">Board index</a></li>
				
			<li class="rightside">All times are UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<div class="copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
		
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
</div>

</body>
</html></div>

